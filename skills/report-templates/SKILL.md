---
name: report-templates
description: 代码审查报告模板。包含阶段性报告和最终报告的标准格式，使用 Mermaid 图表和结构化数据展示。当需要生成代码审查报告、记录审查结果或汇总问题时使用。
---

# 代码审查报告模板

## 快速入门

### 报告类型

1. **阶段性报告**：每个审查维度的独立报告（快速格式）
   - 保存为：`.agent/review_[维度名].md`
   - 用途：记录单个维度的审查结果

2. **最终完整报告**：所有阶段汇总的综合报告（详细格式）
   - 保存为：`.agent/code_review_report.md`
   - 用途：提供完整的审查总结

---

## 阶段性报告格式

### 快速报告模板

```markdown
# [维度名称] 审查报告

**审查日期**：[YYYY-MM-DD]
**审查范围**：[描述审查的模块/文件范围]
**优先级**：P0/P1/P2/P3

---

## 🔴 高优先级问题（需立即修复）

### 1. [问题标题]

**位置**：`crates/core/src/scanner/mod.rs:L123-L145`  
**影响**：[简述影响范围和严重程度]

#### 问题描述
[清晰描述问题是什么，为什么是问题]

#### 代码示例
```rust
// 当前实现（有问题的代码）
[代码示例]
```

#### 影响分析
- **性能影响**：[具体描述]
- **安全风险**：[具体描述]
- **用户体验**：[具体描述]

#### 修复建议

**方案 1：[方案名称]（推荐）**
```rust
// 优化后的实现
[代码示例]
```

**预期效果**：
- 时间复杂度：O(n²) → O(n)
- 性能提升：100倍
- 工作量估计：2 小时

---

## 🟡 中优先级问题

[同上格式]

---

## 🟢 低优先级问题

[同上格式]

---

## ✅ 检查清单

- [ ] 问题 1 已修复
- [ ] 问题 2 已修复
- [ ] 所有测试通过
- [ ] 文档已更新

---

## 📊 统计摘要

| 优先级 | 数量 |
|--------|------|
| 🔴 高  | X    |
| 🟡 中  | X    |
| 🟢 低  | X    |
| **总计** | **X** |
```

---

## 最终完整报告格式

详见 [FINAL_REPORT.md](FINAL_REPORT.md) 了解最终报告的完整模板。

### 报告结构

1. **执行摘要**：总体评分、问题统计、关键发现
2. **详细问题清单**：按优先级分类的所有问题
3. **数据流分析**：关键数据流图和问题汇总
4. **架构问题**：模块耦合度、依赖图、SOLID 原则违反
5. **安全问题汇总**：安全问题表格
6. **性能问题汇总**：性能问题表格
7. **修复优先级路线图**：分阶段的修复计划
8. **最佳实践建议**：代码规范、测试策略、文档完善等

---

## 报告风格要求

### 1. 使用 Emoji 图标增强可读性
- 🔴 高优先级
- 🟡 中优先级
- 🟢 低优先级
- ⭐ 评分
- 📊 数据统计
- 🔍 详细分析

### 2. 使用表格展示结构化数据
- 问题统计表
- 安全问题汇总表
- 性能问题汇总表

### 3. 使用代码块展示代码
- 所有代码必须有语法高亮（指定语言）
- 使用注释标注问题和修复

### 4. 使用 Mermaid 图展示复杂关系
- 数据流图
- 模块依赖图
- 架构图

### 5. 量化指标
- 所有性能改进必须有具体数字
- 时间复杂度对比
- 性能提升倍数
- 工作量估计

---

## 报告生成流程

### 阶段性报告生成
1. 每个审查维度完成后立即生成报告
2. 保存为 `.agent/review_[维度名].md`
3. 提交到 Git 仓库

### 最终报告生成
1. 所有阶段完成后汇总
2. 合并所有阶段性报告
3. 添加执行摘要和统计分析
4. 保存为 `.agent/code_review_report.md`
5. 提交到 Git 仓库

---

## 参考资料

详见 [STAGE_REPORT.md](STAGE_REPORT.md) 了解阶段性报告的详细示例。

---

**版本**：2.0.0（符合官方 Agent Skills 规范）  
**最后更新**：2025-12-02
